/* Analytics Dashboard Background */
.analytics-dashboard {
    font-size: 1.06rem;
    line-height: 1.65;
    min-height: 100vh;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    background-attachment: fixed;
    padding: 20px;
}

body.dark-mode .analytics-dashboard {
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
    background-attachment: fixed;
}

#mostInteractiveCompetitionsCard.interactive-section.pro {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 20px;
    box-shadow: 0 15px 35px rgba(0,0,0,0.2), 0 5px 15px rgba(0,0,0,0.1);
    padding-top: 4px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

body.dark-mode #mostInteractiveCompetitionsCard.interactive-section.pro {
    background: rgba(27, 38, 59, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

#mostInteractiveCompetitionsCard.interactive-section.pro:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(0,0,0,0.25), 0 8px 20px rgba(0,0,0,0.15);
}
#mostInteractiveCompetitionsCard.interactive-section.pro .interactive-header.clean.pro h2 {
    font-size: 1.5rem;
    letter-spacing: .5px;
    font-weight: 800;
    color: #fff;
    text-shadow: 0 1px 1px rgba(0,0,0,0.25);
}
#mostInteractiveCompetitionsCard.interactive-section.pro .interactive-header.clean.pro h2 i { font-size:1.1rem; }
#mostInteractiveCompetitionsCard.interactive-section.pro .section-subtitle { 
    font-size: .9rem; 
    margin-bottom: 6px; 
    color: rgba(255,255,255,0.9);
}

/* Make agent names white in Top Agents by Classification section */
#topAgentsByClassCard .agent-link {
    color: #fff;
    font-weight: 700;
    text-decoration: none;
}
#topAgentsByClassCard .agent-link:hover {
    text-decoration: underline;
}

/* Inline badges and metric value next to agent name */
#topAgentsByClassCard .inline-class-badge {
    display: inline-block;
    margin-right: 8px;
    padding: 2px 8px;
    background: rgba(255,255,255,0.08);
    border-radius: 999px;
    font-size: 0.75rem;
    color: #fff;
    margin-left: 8px;
}
#topAgentsByClassCard .metric-value {
    display: inline-block;
    margin-right: 6px;
    font-weight: 700;
    color: #ffd166;
    background: rgba(0,0,0,0.12);
    padding: 2px 6px;
    border-radius: 6px;
    margin-left: 6px;
}

/* allow hiding of columns based on selected metric via table class */
#topAgentsByClassTable.metric-views th:nth-child(3),
#topAgentsByClassTable.metric-views td:nth-child(3) {
    display: table-cell;
}
#topAgentsByClassTable.metric-views th:nth-child(4),
#topAgentsByClassTable.metric-views td:nth-child(4),
#topAgentsByClassTable.metric-views th:nth-child(5),
#topAgentsByClassTable.metric-views td:nth-child(5) {
    display: table-cell;
}

#topAgentsByClassTable.metric-reactions th:nth-child(3),
#topAgentsByClassTable.metric-reactions td:nth-child(3) {
    display: none;
}
#topAgentsByClassTable.metric-reactions th:nth-child(4),
#topAgentsByClassTable.metric-reactions td:nth-child(4) {
    display: table-cell;
}
#topAgentsByClassTable.metric-reactions th:nth-child(5),
#topAgentsByClassTable.metric-reactions td:nth-child(5) {
    display: none;
}

#topAgentsByClassTable.metric-participants th:nth-child(3),
#topAgentsByClassTable.metric-participants td:nth-child(3) {
    display: none;
}
#topAgentsByClassTable.metric-participants th:nth-child(4),
#topAgentsByClassTable.metric-participants td:nth-child(4) {
    display: none;
}
#topAgentsByClassTable.metric-participants th:nth-child(5),
#topAgentsByClassTable.metric-participants td:nth-child(5) {
    display: table-cell;
}

/* Metric controls */
.top-agents-controls { display:flex; gap:10px; align-items:center; margin:8px 0 12px; }
.top-agents-controls .metric-label { color: rgba(255,255,255,0.85); font-weight:700; margin-right:6px; }
.top-agents-controls .metric-buttons { display:flex; gap:8px; }
.top-agents-controls .metric-btn { background: transparent; color:#fff; border:1px solid rgba(255,255,255,0.12); padding:6px 10px; border-radius:8px; cursor:pointer; }
.top-agents-controls .metric-btn.active { background: rgba(255,255,255,0.12); box-shadow: 0 4px 12px rgba(0,0,0,0.25); }
#mostInteractiveCompetitionsCard.interactive-section.pro .filter-toolbar.mini.clean.pro {
    display: flex;
    flex-wrap: wrap;
    gap: 12px 20px;
    padding: 10px 18px 8px 18px;
    align-items: center;
}
#mostInteractiveCompetitionsCard.interactive-section.pro .filter-toolbar.mini.clean.pro .toolbar-group {
    display: flex;
    align-items: center;
    gap: 8px;
}
#mostInteractiveCompetitionsCard.interactive-section.pro .filter-toolbar.mini.clean.pro .toolbar-group label { 
    font-size:.75rem;
    margin: 0;
    white-space: nowrap;
}
#mostInteractiveCompetitionsCard.interactive-section.pro .filter-toolbar.mini.clean.pro .input-select { 
    font-size:.8rem;
    min-width: 100px;
}
#mostInteractiveCompetitionsCard.interactive-section.pro .interactive-table-wrapper.clean.pro { padding: 6px 18px 20px 18px; }
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table {
    font-size: .92rem !important;
    border-collapse: separate;
    border-spacing:0;
}
/* Column widths */
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table col.col-index { width: 48px; }
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table col.col-question { width: 38%; }
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table col.col-answer { width: 24%; }
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table col.col-type { width: 9%; }
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table col.col-sends { width: 7%; }
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table col.col-views { width: 8%; }
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table col.col-reactions { width: 7%; }
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table col.col-participants { width: 7%; }
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table thead th {
    background: linear-gradient(180deg, rgba(var(--primary-color-rgb),0.55), rgba(var(--primary-color-rgb),0.32));
    font-size: .86rem !important;
    padding: 12px 12px !important;
    position: sticky;
    top:0;
    z-index:3;
}
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table td,
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table th{
    vertical-align: middle;
}
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table td:nth-child(2),
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table td:nth-child(3){
    text-align: right;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table td:nth-child(4),
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table td:nth-child(5),
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table td:nth-child(6),
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table td:nth-child(7),
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table td:nth-child(8){
    text-align: center;
    white-space: nowrap;
}
/* Remove cell borders, keep only row separators */
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table td, 
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table th {
    border: none;
    border-left: 1px solid rgba(var(--primary-color-rgb),0.15);
}
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table td:first-child,
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table th:first-child {
    border-left: none;
}
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table tbody tr { 
    transition: background .25s ease, transform .15s ease; 
    border-bottom: 2px solid rgba(var(--primary-color-rgb),0.5) !important;
}
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table tbody tr:last-child {
    border-bottom: none !important;
}
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table tbody tr:hover { 
    background: rgba(var(--primary-color-rgb),0.14); 
}
#mostInteractiveCompetitionsCard.interactive-section.pro .index-badge { background: rgba(var(--primary-color-rgb),0.35); font-size:.65rem; }
#mostInteractiveCompetitionsCard.interactive-section.pro .question-cell { 
    font-weight:700; 
    line-height:1.55; 
    white-space:normal; 
}
#mostInteractiveCompetitionsCard.interactive-section.pro .question-cell .question-icon { font-size:.85rem; opacity:.85; margin-left:6px; }
#mostInteractiveCompetitionsCard.interactive-section.pro .question-cell .question-text { display:inline; }
#mostInteractiveCompetitionsCard.interactive-section.pro .question-cell .answer-badge {
    display:inline-block;
    margin-right:12px;
    padding:4px 10px;
    font-size:.65rem;
    font-weight:600;
    background:rgba(var(--primary-color-rgb),0.12);
    border:1px solid rgba(var(--primary-color-rgb),0.25);
    border-radius:14px;
    backdrop-filter:blur(4px);
}
/* Two-row layout styling */
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table tr.mi-row.mi-question { 
    background: rgba(var(--primary-color-rgb),0.10) !important;
    border-bottom: none !important;
}
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table tr.mi-row.mi-metrics { 
    background: linear-gradient(90deg, rgba(var(--primary-color-rgb),0.06), rgba(var(--primary-color-rgb),0.02)) !important;
}
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table tr.mi-row.mi-metrics td { 
    font-size:.75rem;
    padding:6px 10px !important;
}
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table tr.mi-row.mi-metrics td.mi-spacer { 
    opacity:0; 
    pointer-events:none; 
}
#mostInteractiveCompetitionsCard.interactive-section.pro .type-badge { font-size:.68rem; padding:5px 10px; }
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table tbody tr:nth-child(even) { background: rgba(255,255,255,0.02); }
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table tbody tr:nth-child(odd) { background: rgba(255,255,255,0.04); }
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table tbody tr:nth-child(1) { background: linear-gradient(90deg, rgba(var(--primary-color-rgb),0.60), rgba(var(--primary-color-rgb),0.32)); }
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table tbody tr:nth-child(2) { background: linear-gradient(90deg, rgba(var(--primary-color-rgb),0.48), rgba(var(--primary-color-rgb),0.26)); }
#mostInteractiveCompetitionsCard.interactive-section.pro table.interactive-competitions-table tbody tr:nth-child(3) { background: linear-gradient(90deg, rgba(var(--primary-color-rgb),0.40), rgba(var(--primary-color-rgb),0.20)); }
#mostInteractiveCompetitionsCard.interactive-section.pro .header-icon { font-size:.7rem; }

/* Old metrics summary bar removed */
/* Interactive Competitions Table Enhancements */
.interactive-competitions-table {
    width: 100%;
    border-collapse: collapse;
}
.interactive-competitions-table thead th {
    background: var(--table-head-bg, linear-gradient(90deg, rgba(var(--primary-color-rgb),0.55), rgba(var(--primary-color-rgb),0.25)));
    font-weight: 600;
    color: #fff;
    border: 1px solid rgba(var(--primary-color-rgb),0.35);
    padding: 10px 12px;
}
/* When sharing styling with rank-changes-table, inherit gradient from thead (ensures exact parity with Agents table) */
.interactive-competitions-table.rank-changes-table thead th {
    background: inherit !important;
}
/* Comparison Mode Badges */
.comparison-mini-badge,
.mini-diff,
.diff-badge {
    display: inline-block;
    margin-right: 6px;
    padding: 2px 6px;
    font-size: 0.65rem;
    font-weight: 600;
    border-radius: 10px;
    letter-spacing: .5px;
    vertical-align: middle;
    background: rgba(255,255,255,0.15);
    backdrop-filter: blur(4px);
    border: 1px solid rgba(255,255,255,0.2);
    color: #fff;
}
.comparison-mini-badge.positive,
.mini-diff.positive,
.diff-badge.positive { background: rgba(46,204,113,0.35); border-color: rgba(46,204,113,0.55); }
.comparison-mini-badge.negative,
.mini-diff.negative,
.diff-badge.negative { background: rgba(231,76,60,0.35); border-color: rgba(231,76,60,0.55); }
.comparison-mini-badge.neutral,
.mini-diff.neutral,
.diff-badge.neutral { background: rgba(127,140,141,0.35); border-color: rgba(127,140,141,0.55); }

/* Table diff cells */
td.diff.positive { color: #2ecc71; font-weight:700; }
td.diff.negative { color: #e74c3c; font-weight:700; }
td.diff.neutral { color: #95a5a6; font-weight:700; }

/* Deposit bonus comparison extra columns layout safeguard */
#grantedBalancesCard table.deposit-bonus-table td { position: relative; }

/* Most Interactive Competitions - Comparison Mode Styles */
.interactive-item.comparison-mode {
    border-left: 3px solid var(--primary-color);
}
.interactive-item.comparison-mode .item-meta.comparison-meta {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 8px;
    align-items: center;
}
.metric-comparison {
    display: flex;
    align-items: center;
    gap: 6px;
    background: rgba(var(--primary-color-rgb), 0.08);
    padding: 4px 8px;
    border-radius: 8px;
}
.metric-comparison .metric-chip.period1 {
    background: rgba(76,175,80,0.25);
    border: 1px solid rgba(76,175,80,0.4);
}
.metric-comparison .metric-chip.period2 {
    background: rgba(33,150,243,0.25);
    border: 1px solid rgba(33,150,243,0.4);
}
.metric-comparison .mini-diff {
    min-width: 50px;
    text-align: center;
    font-weight: 700;
}

.interactive-competitions-table td, .interactive-competitions-table th {
    padding: 10px 12px;
    text-align: center;
    font-size: 0.8rem;
    border: 1px solid rgba(var(--primary-color-rgb),0.22);
}
/* Index column */
.interactive-competitions-table .row-index { width:40px; }
.interactive-competitions-table .index-badge {
    display:inline-block;
    min-width:26px;
    padding:4px 6px;
    border-radius:6px;
    background:rgba(var(--primary-color-rgb),0.18);
    font-weight:600;
    font-size:.7rem;
    color:#fff;
}
/* Header icons */
.interactive-competitions-table .header-icon { margin-left:6px; color:var(--primary-color); }
/* Question cell pointer & icon */
.interactive-competitions-table .question-cell { cursor:pointer; text-align:right; }
.interactive-competitions-table .question-cell .question-icon { color:var(--primary-color); margin-left:6px; }
.interactive-competitions-table tbody tr:nth-child(even){
    background: rgba(255,255,255,0.02);
}
.interactive-competitions-table tbody tr:hover {
    background: rgba(var(--primary-color-rgb),0.10);
    transition: background .25s ease;
}
.interactive-competitions-table tbody tr {
    border-bottom: 1px solid rgba(var(--primary-color-rgb),0.18);
}
.interactive-competitions-table td[title] {
    /* Pointer cursor for better UX instead of help/question cursor */
    cursor: pointer;
}
.interactive-table-wrapper {
    background: linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.15));
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 10px;
}
.toolbar .input-select, .toolbar button {
    font-size: 0.8rem;
    padding: 4px 6px;
}
/* Enhanced filter toolbar styling */
.filter-toolbar {
    display: flex;
    gap: 16px;
    align-items: center;
    flex-wrap: wrap;
    background: linear-gradient(145deg, rgba(var(--primary-color-rgb),0.15), rgba(var(--primary-color-rgb),0.05));
    padding: 10px 14px;
    border: 1px solid var(--border-color);
    border-radius: 14px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    margin: 12px 0;
}
.filter-toolbar.mini {
    background: linear-gradient(145deg, rgba(var(--primary-color-rgb),0.18), rgba(var(--primary-color-rgb),0.08));
    padding: 8px 12px;
    border-radius: 12px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.12);
}
.toolbar-group {
    display: flex;
    flex-direction: column;
    gap: 4px;
    min-width: 110px;
}
.toolbar-group label {
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--text-secondary-color);
    display: flex;
    align-items: center;
    gap: 6px;
    letter-spacing: 0.5px;
}
.filter-toolbar .input-select {
    background: var(--input-bg-color);
    border: 1px solid var(--border-color);
    padding: 6px 8px;
    border-radius: 8px;
    color: var(--text-color);
    font-size: 0.75rem;
    min-width: 100px;
}
.filter-toolbar .input-select:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb),0.25);
}
.btn.btn-refresh {
    background: var(--primary-color);
    color: #fff;
    border: none;
    padding: 8px 14px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.75rem;
    cursor: pointer;
    transition: background 0.25s ease, transform 0.2s ease;
}
.btn.btn-refresh:hover {
    background: var(--primary-hover-color);
    transform: translateY(-2px);
}

/* Interactive section - clean design overrides */
#mostInteractiveCompetitionsCard.interactive-section {
    background: var(--card-bg-color);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.12);
}
#mostInteractiveCompetitionsCard .interactive-header.clean {
    background: transparent;
    border: none;
    padding: 12px 16px 0 16px;
    margin-bottom: 8px;
}
#mostInteractiveCompetitionsCard .interactive-header.clean h2 {
    margin: 0 0 6px 0;
    font-size: 1.15rem;
    display: flex;
    align-items: center;
    gap: 8px;
}
#mostInteractiveCompetitionsCard .interactive-header.clean h2 i {
    color: var(--primary-color);
}
#mostInteractiveCompetitionsCard .interactive-header.clean + .section-subtitle {
    padding: 0 16px;
}
.section-subtitle {
    margin: 0 0 10px 0;
    font-size: 0.75rem;
    color: var(--text-secondary-color);
    font-weight: 500;
    letter-spacing: 0.3px;
}
/* Clean toolbar and wrapper */
#mostInteractiveCompetitionsCard .filter-toolbar.mini.clean {
    background: transparent;
    border: 0;
    box-shadow: none;
    padding: 6px 16px 12px 16px;
}
#mostInteractiveCompetitionsCard .interactive-table-wrapper.clean {
    background: transparent;
    border: none;
    padding: 0 12px 12px 12px;
}

/* Highlight top 3 rows */
#mostInteractiveCompetitionsTable tbody tr:nth-child(1) {
    background: linear-gradient(90deg, rgba(var(--primary-color-rgb),0.55), rgba(var(--primary-color-rgb),0.25));
    font-weight: 650;
}
#mostInteractiveCompetitionsTable tbody tr:nth-child(2) {
    background: linear-gradient(90deg, rgba(var(--primary-color-rgb),0.40), rgba(var(--primary-color-rgb),0.18));
    font-weight: 600;
}
#mostInteractiveCompetitionsTable tbody tr:nth-child(3) {
    background: linear-gradient(90deg, rgba(var(--primary-color-rgb),0.30), rgba(var(--primary-color-rgb),0.12));
    font-weight: 550;
}

/* Type badge styling */
/* Unified Arabic type badges */
.type-badge {
    display:inline-block;
    border-radius:8px;
    padding:4px 8px;
    font-size:.65rem;
    font-weight:600;
    letter-spacing:.3px;
    border:1px solid rgba(var(--primary-color-rgb),0.25);
    background:rgba(var(--primary-color-rgb),0.15);
}
.type-badge.features {background:linear-gradient(135deg,#2d7dfa,#4fa3ff);color:#fff;border-color:#3d8bff;}
.type-badge.interactive {background:linear-gradient(135deg,#ff3d3d,#ff7b54);color:#fff;border-color:#ff5b46;}
.type-badge.deposit {background:linear-gradient(135deg,#7a3dff,#b18bff);color:#fff;border-color:#965dff;}
.type-badge.unknown {background:rgba(255,255,255,0.15);color:#ddd;}

/* Loading row refinement */
#mostInteractiveCompetitionsTable .loading-row td {
    background: rgba(var(--primary-color-rgb),0.08);
    border-radius: 12px;
}
/* Analytics Dashboard Header */
.analytics-dashboard .dashboard-header {
    display: flex;
    flex-direction: column;
    gap: 25px;
    padding: 30px;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    margin-bottom: 30px;
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
}

/* --- List/Card layout for Most Interactive Competitions --- */
.interactive-list { display:grid; grid-template-columns: repeat(auto-fill, minmax(400px, 1fr)); gap:16px; margin-top:16px; }
.interactive-item { position:relative; display:flex; gap:12px; padding:12px 14px; border-radius:16px; background:linear-gradient(135deg, rgba(30,41,59,0.75), rgba(17,24,39,0.85)); backdrop-filter:blur(18px); box-shadow:0 4px 18px -4px rgba(0,0,0,0.45), 0 2px 6px -1px rgba(0,0,0,0.4); border:1px solid rgba(255,255,255,0.06); transition:transform .25s ease, box-shadow .25s ease, background .4s ease; overflow:hidden; }
.interactive-item::before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 30% 20%, rgba(99,102,241,0.15), transparent 60%); opacity:0; transition:opacity .4s; }
.interactive-item:hover { transform:translateY(-4px); box-shadow:0 8px 24px -6px rgba(0,0,0,0.55), 0 4px 10px -2px rgba(0,0,0,0.5); }
.interactive-item:hover::before { opacity:1; }
.interactive-item .item-rank { display:flex; align-items:flex-start; }
.interactive-item .index-badge { background:linear-gradient(135deg,#6366f1,#8b5cf6); color:#fff; font-weight:600; width:42px; height:42px; display:flex; align-items:center; justify-content:center; border-radius:12px; font-size:16px; box-shadow:0 4px 12px -2px rgba(99,102,241,0.55); }
.interactive-item .item-main { flex:1; display:flex; flex-direction:column; gap:10px; }
.interactive-item .item-question { display:flex; flex-direction:column; gap:8px; font-size:14.5px; line-height:1.5; color:var(--text-primary-color); font-weight:500; position:relative; cursor:pointer; }
.interactive-item .question-content { display:flex; align-items:flex-start; gap:10px; width:100%; }
.interactive-item .question-content i { color:#4fa3ff; font-size:16px; margin-top:4px; flex-shrink:0; }
.interactive-item .question-content .question-text {
    flex: 1;
    min-width: 0;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    overflow: hidden;
}
.interactive-item .question-content .read-more-link {
    font-size: 12px;
    color: rgba(226,232,240,0.9);
    text-decoration: underline;
    white-space: nowrap;
    margin-top: 2px;
}
.interactive-item .answer-content { width:100%; display:flex; justify-content:flex-end; }
.interactive-item .answer-badge { background:linear-gradient(135deg,#1e293b,#0f172a); padding:4px 10px; font-size:12px; border-radius:8px; color:#e2e8f0; box-shadow:0 0 0 1px rgba(255,255,255,0.07); white-space:nowrap; max-width:100%; overflow:hidden; text-overflow:ellipsis; }
.interactive-item .item-question:hover .answer-badge { background:linear-gradient(135deg,#334155,#1e293b); }
.interactive-item .item-meta { display:flex; flex-wrap:wrap; gap:8px; align-items:center; font-size:12.5px; }
.interactive-item .metric-chip { display:inline-flex; align-items:center; gap:6px; background:linear-gradient(135deg,#475569,#334155); color:#f1f5f9; padding:6px 10px; border-radius:24px; font-weight:500; box-shadow:0 2px 6px -2px rgba(0,0,0,0.45),0 0 0 1px rgba(255,255,255,0.05); }
.interactive-item .metric-chip i { font-size:12px; color:#93c5fd; }
.interactive-item .metric-chip:hover { background:linear-gradient(135deg,#64748b,#475569); }
.interactive-item .type-badge { display:inline-flex; align-items:center; padding:6px 12px; font-size:12px; border-radius:24px; font-weight:600; letter-spacing:.5px; background:linear-gradient(135deg,#6366f1,#4f46e5); color:#fff; box-shadow:0 2px 8px -2px rgba(79,70,229,.55); }
.interactive-item .type-badge.features { background:linear-gradient(135deg,#10b981,#059669); box-shadow:0 2px 8px -2px rgba(16,185,129,.5); }
.interactive-item .type-badge.interactive { background:linear-gradient(135deg,#6366f1,#4f46e5); }
.interactive-item .type-badge.deposit { background:linear-gradient(135deg,#f59e0b,#d97706); box-shadow:0 2px 8px -2px rgba(245,158,11,.45); }
.interactive-item .type-badge.unknown { background:linear-gradient(135deg,#64748b,#475569); }
.interactive-item .engagement-bar { position:relative; height:9px; background:linear-gradient(90deg,#1e293b,#0f172a); border-radius:12px; overflow:hidden; box-shadow:inset 0 0 0 1px rgba(255,255,255,0.06); }
.interactive-item .engagement-bar .fill { position:absolute; inset:0 0 0 0; width:0; background:linear-gradient(90deg,#14b8a6,#0ea5e9,#6366f1); transition:width .9s cubic-bezier(.4,.13,.2,1); filter:saturate(1.4) brightness(1.1); }
.interactive-item .engagement-bar .pct { position:absolute; top:50%; right:10px; transform:translateY(-50%); font-size:11px; font-weight:600; color:#e2e8f0; text-shadow:0 1px 2px rgba(0,0,0,.5); }
.interactive-item:hover .engagement-bar .fill { filter:saturate(1.7) brightness(1.15); }

@media (max-width: 900px) {
    .interactive-item { flex-direction:column; }
    .interactive-item .item-rank { align-self:flex-start; }
    .interactive-item .item-question .answer-badge { margin-inline-start:0; }
}

@media (max-width: 600px) {
    .interactive-item { padding:12px 14px; }
    .interactive-item .index-badge { width:38px; height:38px; font-size:15px; }
    .interactive-item .item-meta { gap:6px; }
    .interactive-item .metric-chip { padding:5px 9px; font-size:11.5px; }
    .interactive-item .type-badge { padding:5px 10px; font-size:11px; }
    .interactive-item .engagement-bar { height:8px; }
}

/* Dark mode tweaks */
body.dark-mode .interactive-item { background:linear-gradient(135deg, rgba(15,23,42,0.85), rgba(17,24,39,0.92)); }
body.dark-mode .interactive-item .item-question i { color:#60a5fa; }
body.dark-mode .interactive-item .metric-chip i { color:#bfdbfe; }
body.dark-mode .interactive-item .item-question .answer-badge { background:linear-gradient(135deg,#0f172a,#1e293b); color:#f1f5f9; }

body.dark-mode .analytics-dashboard .dashboard-header {
    background: rgba(27, 38, 59, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.analytics-dashboard .dashboard-header .header-top {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 20px;
}

.analytics-dashboard .dashboard-header h1 {
    border-bottom: none;
    padding-bottom: 0;
    margin: 0;
    font-size: 2.2rem;
    font-weight: 800;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: none;
}

body.dark-mode .analytics-dashboard .dashboard-header h1 {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Comparison Mode Toggle */
.comparison-mode-toggle {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px 16px;
    background-color: rgba(255, 255, 255, 0.05);
    border-radius: 25px;
    border: 1px solid var(--border-color);
}

.toggle-label {
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--text-secondary-color);
    font-weight: 500;
    font-size: 0.95em;
}

/* Toggle switches now use global toggle-fix.css styles */

.analytics-filters {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 20px;
}

.filter-buttons {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

/* Filter Buttons - Enhanced */
.filter-btn {
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
    color: var(--text-color);
    border: 2px solid rgba(102, 126, 234, 0.3);
    padding: 10px 24px;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 600;
    white-space: nowrap;
    font-size: 0.95rem;
    position: relative;
    overflow: hidden;
}

.filter-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transition: left 0.5s;
}

.filter-btn:hover::before {
    left: 100%;
}

.filter-btn:hover {
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);
    border-color: rgba(102, 126, 234, 0.6);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
}

.filter-btn.active {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-color: #667eea;
    box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
    transform: translateY(-2px);
}

body.dark-mode .filter-btn {
    background: linear-gradient(135deg, rgba(79, 172, 254, 0.1) 0%, rgba(0, 242, 254, 0.1) 100%);
    border-color: rgba(79, 172, 254, 0.3);
}

body.dark-mode .filter-btn:hover {
    background: linear-gradient(135deg, rgba(79, 172, 254, 0.2) 0%, rgba(0, 242, 254, 0.2) 100%);
    border-color: rgba(79, 172, 254, 0.6);
    box-shadow: 0 5px 15px rgba(79, 172, 254, 0.3);
}

body.dark-mode .filter-btn.active {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    border-color: #4facfe;
    box-shadow: 0 5px 20px rgba(79, 172, 254, 0.4);
}

.date-range-filter {
    display: flex;
    align-items: center;
    gap: 15px;
    flex-wrap: wrap;
    padding: 18px 20px;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
    border-radius: 15px;
    border: 2px solid rgba(102, 126, 234, 0.2);
    backdrop-filter: blur(5px);
}

body.dark-mode .date-range-filter {
    background: linear-gradient(135deg, rgba(79, 172, 254, 0.05) 0%, rgba(0, 242, 254, 0.05) 100%);
    border-color: rgba(79, 172, 254, 0.2);
}

.date-input-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.date-input-group label {
    color: var(--text-secondary-color);
    font-size: 0.9em;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 6px;
}

.date-input-group label i {
    color: #667eea;
    font-size: 1.1em;
}

body.dark-mode .date-input-group label i {
    color: #4facfe;
}

.date-range-filter input[type="date"] {
    padding: 12px 15px;
    border-radius: 10px;
    border: 2px solid rgba(102, 126, 234, 0.25);
    background: rgba(255, 255, 255, 0.9);
    color: var(--text-color);
    font-size: 0.95em;
    min-width: 160px;
    transition: all 0.3s ease;
    font-weight: 500;
}

.date-range-filter input[type="date"]:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.15);
    background: white;
}

body.dark-mode .date-range-filter input[type="date"] {
    background: rgba(26, 26, 46, 0.8);
    border-color: rgba(79, 172, 254, 0.25);
}

body.dark-mode .date-range-filter input[type="date"]:focus {
    border-color: #4facfe;
    box-shadow: 0 0 0 4px rgba(79, 172, 254, 0.15);
}

.date-range-filter .btn {
    padding: 12px 24px;
    border-radius: 12px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    white-space: nowrap;
    border: none;
    display: flex;
    align-items: center;
    gap: 8px;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

.date-range-filter .btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.4s, height 0.4s;
}

.date-range-filter .btn:hover::before {
    width: 300px;
    height: 300px;
}

.date-range-filter .btn i {
    font-size: 1em;
    position: relative;
    z-index: 1;
}

.date-range-filter .btn span {
    position: relative;
    z-index: 1;
}

.date-range-filter .btn-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
}

.date-range-filter .btn-primary:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 25px rgba(102, 126, 234, 0.4);
}

body.dark-mode .date-range-filter .btn-primary {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
}

body.dark-mode .date-range-filter .btn-primary:hover {
    box-shadow: 0 6px 25px rgba(79, 172, 254, 0.4);
}

.date-range-filter .btn-secondary {
    background: rgba(102, 126, 234, 0.1);
    color: #667eea;
    border: 2px solid rgba(102, 126, 234, 0.3);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.date-range-filter .btn-secondary:hover {
    background: rgba(102, 126, 234, 0.2);
    border-color: rgba(102, 126, 234, 0.5);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
}

body.dark-mode .date-range-filter .btn-secondary {
    background: rgba(79, 172, 254, 0.1);
    color: #4facfe;
    border-color: rgba(79, 172, 254, 0.3);
}

body.dark-mode .date-range-filter .btn-secondary:hover {
    background: rgba(79, 172, 254, 0.2);
    border-color: rgba(79, 172, 254, 0.5);
    box-shadow: 0 4px 12px rgba(79, 172, 254, 0.2);
}

/* Comparison Filters Section */
.comparison-filters {
    display: flex;
    flex-direction: column;
    gap: 25px;
    padding: 20px;
    background: linear-gradient(135deg, rgba(76, 175, 80, 0.1) 0%, rgba(33, 150, 243, 0.1) 100%);
    border-radius: 12px;
    border: 2px solid var(--primary-color);
    animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

.comparison-filters h3 {
    margin: 0;
    color: var(--primary-color);
    font-size: 1.1em;
    display: flex;
    align-items: center;
    gap: 10px;
}

/* Quick Comparison Buttons */
.comparison-quick-filters {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.quick-comparison-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 12px;
}

.comparison-btn {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 15px 20px;
    background-color: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    color: var(--text-color);
    font-weight: 500;
}

.comparison-btn i {
    font-size: 1.3em;
    color: var(--primary-color);
}

.comparison-btn:hover {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(76, 175, 80, 0.3);
}

.comparison-btn:hover i {
    color: white;
}

.comparison-btn.active {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
    color: white;
}

.comparison-btn.active i {
    color: white;
}

/* Custom Comparison Periods */
.comparison-custom-filters {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.comparison-periods {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 20px;
    align-items: center;
}

.comparison-period {
    background-color: rgba(255, 255, 255, 0.05);
    padding: 20px;
    border-radius: 10px;
    border: 2px solid var(--border-color);
    transition: all 0.3s ease;
}

.comparison-period:hover {
    border-color: var(--primary-color);
    transform: translateY(-2px);
}

.period-1 {
    border-color: #4CAF50;
}

.period-2 {
    border-color: #2196F3;
}

.period-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
    font-weight: 600;
    color: var(--text-color);
}

.period-1 .period-header i {
    color: #4CAF50;
}

.period-2 .period-header i {
    color: #2196F3;
}

.period-inputs {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.comparison-vs {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2em;
    color: var(--primary-color);
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

.comparison-actions {
    display: flex;
    gap: 15px;
    justify-content: center;
    padding-top: 10px;
}

.comparison-actions .btn {
    padding: 12px 30px;
    font-size: 1em;
}

/* Comparison Stats Indicators */
.stat-card-v2.comparison-mode {
    position: relative;
    overflow: visible;
}

.stat-comparison-indicator {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 10px;
    padding: 10px 14px;
    background-color: rgba(0, 0, 0, 0.4);
    border-radius: 8px;
    font-size: 0.85em;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.comparison-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    border-radius: 14px;
    font-weight: 700;
    font-size: 1em;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.comparison-badge.positive {
    background: linear-gradient(135deg, rgba(76, 175, 80, 0.95) 0%, rgba(56, 142, 60, 0.95) 100%);
    color: #fff;
    border: 1px solid rgba(76, 175, 80, 0.5);
}

.comparison-badge.negative {
    background: linear-gradient(135deg, rgba(244, 67, 54, 0.95) 0%, rgba(211, 47, 47, 0.95) 100%);
    color: #fff;
    border: 1px solid rgba(244, 67, 54, 0.5);
}

.comparison-badge.neutral {
    background: linear-gradient(135deg, rgba(255, 193, 7, 0.95) 0%, rgba(255, 160, 0, 0.95) 100%);
    color: #fff;
    border: 1px solid rgba(255, 193, 7, 0.5);
}

.comparison-arrow {
    font-size: 1.3em;
    font-weight: 900;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.comparison-percentage {
    font-weight: 800;
    font-size: 1.05em;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.stat-comparison-indicator > span {
    color: rgba(255, 255, 255, 0.95);
    font-size: 0.9em;
    font-weight: 500;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* Additional contrast improvements for comparison text */
.stat-card-v2.comparison-mode .stat-card-v2-title {
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
}

.stat-card-v2.comparison-mode .stat-card-v2-value {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    font-weight: 700;
}

.comparison-period-label {
    color: var(--text-secondary-color);
    font-size: 0.8em;
    margin-top: 5px;
}

.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 20px;
}

.card.chart-card {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    padding: 25px;
    border-radius: 20px;
    border: 1px solid rgba(102, 126, 234, 0.2);
    display: flex;
    flex-direction: column;
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    /* Performance optimizations */
    will-change: transform;
    contain: layout style paint;
    /* Lazy loading support */
    min-height: 200px;
}

.card.chart-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 35px rgba(0,0,0,0.15);
    border-color: rgba(102, 126, 234, 0.4);
}

body.dark-mode .card.chart-card {
    background: rgba(26, 26, 46, 0.85);
    border-color: rgba(79, 172, 254, 0.2);
}

body.dark-mode .card.chart-card:hover {
    border-color: rgba(79, 172, 254, 0.4);
}

.card.chart-card.full-width {
    grid-column: 1 / -1;
}

.card.chart-card h2 {
    margin: 0 0 20px 0;
    padding-bottom: 15px;
    border-bottom: 2px solid rgba(102, 126, 234, 0.2);
    font-size: 1.3em;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 12px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

body.dark-mode .card.chart-card h2 {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    border-bottom-color: rgba(79, 172, 254, 0.2);
}

/* Completed Competitions Table Styles */
.card-header-with-filter {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 15px;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid var(--border-color);
}

/* Section Filters Container */
.section-filters {
    display: flex;
    flex-direction: column;
    gap: 12px;
    width: 100%;
}

/* Date Range Filter Section */
.date-range-filter-section {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
    padding: 12px;
    background: rgba(102, 126, 234, 0.05);
    border-radius: 12px;
    border: 1px solid rgba(102, 126, 234, 0.15);
}

body.dark-mode .date-range-filter-section {
    background: rgba(102, 126, 234, 0.08);
    border: 1px solid rgba(102, 126, 234, 0.2);
}

.date-range-filter-section .date-input-group {
    display: flex;
    align-items: center;
    gap: 8px;
}

.date-range-filter-section .date-input-group label {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text-color);
    white-space: nowrap;
    display: flex;
    align-items: center;
    gap: 5px;
}

.date-range-filter-section .date-input-group label i {
    color: var(--primary-color);
}

.section-date-input {
    padding: 8px 12px;
    border: 2px solid rgba(102, 126, 234, 0.2);
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.8);
    color: var(--text-color);
    font-size: 0.9rem;
    transition: all 0.3s ease;
    min-width: 150px;
}

body.dark-mode .section-date-input {
    background: rgba(27, 38, 59, 0.6);
    border-color: rgba(102, 126, 234, 0.3);
    color: var(--text-color);
}

.section-date-input:focus {
    outline: none;
    border-color: var(--primary-color);
    background: rgba(255, 255, 255, 1);
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

body.dark-mode .section-date-input:focus {
    background: rgba(27, 38, 59, 0.8);
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
}

.date-range-filter-section .btn-sm {
    padding: 8px 16px;
    font-size: 0.85rem;
    border-radius: 8px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: all 0.3s ease;
}

.date-range-filter-section .btn-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    color: white;
}

.date-range-filter-section .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
}

.date-range-filter-section .btn-secondary {
    background: rgba(108, 117, 125, 0.1);
    border: 2px solid rgba(108, 117, 125, 0.3);
    color: var(--text-color);
}

body.dark-mode .date-range-filter-section .btn-secondary {
    background: rgba(108, 117, 125, 0.15);
    border-color: rgba(108, 117, 125, 0.4);
}

.date-range-filter-section .btn-secondary:hover {
    background: rgba(108, 117, 125, 0.2);
    border-color: rgba(108, 117, 125, 0.5);
}

.competition-filter-buttons {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.competition-filter-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 20px;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);
    border: 2px solid rgba(102, 126, 234, 0.25);
    border-radius: 22px;
    color: var(--text-color);
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    font-size: 0.92em;
    font-weight: 600;
    position: relative;
    overflow: hidden;
}

.competition-filter-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(102, 126, 234, 0.15);
    transform: translate(-50%, -50%);
    transition: width 0.4s, height 0.4s;
}

.competition-filter-btn:hover::before {
    width: 300px;
    height: 300px;
}

.competition-filter-btn:hover {
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(118, 75, 162, 0.15) 100%);
    border-color: rgba(102, 126, 234, 0.5);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.25);
}

.competition-filter-btn.active {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-color: #667eea;
    color: white;
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    transform: translateY(-2px);
}

body.dark-mode .competition-filter-btn {
    background: linear-gradient(135deg, rgba(79, 172, 254, 0.08) 0%, rgba(0, 242, 254, 0.08) 100%);
    border-color: rgba(79, 172, 254, 0.25);
}

body.dark-mode .competition-filter-btn::before {
    background: rgba(79, 172, 254, 0.15);
}

body.dark-mode .competition-filter-btn:hover {
    background: linear-gradient(135deg, rgba(79, 172, 254, 0.15) 0%, rgba(0, 242, 254, 0.15) 100%);
    border-color: rgba(79, 172, 254, 0.5);
    box-shadow: 0 4px 12px rgba(79, 172, 254, 0.25);
}

body.dark-mode .competition-filter-btn.active {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    border-color: #4facfe;
    box-shadow: 0 6px 20px rgba(79, 172, 254, 0.4);
}

.competitions-stats-summary {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 20px;
    padding: 15px;
    background: linear-gradient(135deg, rgba(76, 175, 80, 0.1) 0%, rgba(33, 150, 243, 0.1) 100%);
    border-radius: 10px;
}

.stat-summary-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 15px;
    background-color: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    border: 1px solid var(--border-color);
}

.stat-summary-item i {
    font-size: 2em;
    color: var(--primary-color);
}

.stat-summary-item .stat-label {
    font-size: 0.85em;
    color: var(--text-secondary-color);
}

.stat-summary-item .stat-value {
    font-size: 1.8em;
    font-weight: 700;
    color: var(--accent-color);
}

.table-responsive {
    overflow-x: auto;
    margin: 20px 0;
}

.competitions-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.95em;
}

.competitions-table thead {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.competitions-table thead th {
    padding: 15px 12px;
    text-align: right;
    color: white;
    font-weight: 600;
    white-space: nowrap;
    border-bottom: 2px solid var(--border-color);
}

.competitions-table thead th i {
    margin-left: 5px;
}

.competitions-table tbody tr {
    border-bottom: 1px solid var(--border-color);
    transition: all 0.3s ease;
}

.competitions-table tbody tr:hover {
    background-color: rgba(76, 175, 80, 0.1);
    transform: scale(1.01);
}

.competitions-table tbody td {
    padding: 15px 12px;
    text-align: right;
    color: var(--text-color);
}

.competitions-table tbody td:first-child {
    font-weight: 600;
    color: var(--primary-color);
}

.competition-question {
    max-width: 320px;
    display: -webkit-box;
    -webkit-line-clamp: 2; /* show up to 2 lines */
    line-clamp: 2;
    -webkit-box-orient: vertical;
    white-space: normal;
    overflow: hidden;
    text-overflow: ellipsis;
    cursor: pointer;
    color: var(--text-color);
}

.competition-question:hover {
    color: var(--primary-color);
    text-decoration: underline;
}

.competition-type-badge,
.competition-classification-badge {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 0.85em;
    font-weight: 600;
    white-space: nowrap;
}

.competition-type-badge {
    background-color: rgba(33, 150, 243, 0.2);
    color: #2196F3;
    border: 1px solid rgba(33, 150, 243, 0.5);
}

.competition-classification-badge {
    background-color: rgba(158, 158, 158, 0.2);
    color: #9E9E9E;
    border: 1px solid rgba(158, 158, 158, 0.5);
    font-weight: 700;
    font-size: 0.9em;
}

/* Classification specific colors */
.competition-classification-badge.r {
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.3) 0%, rgba(255, 193, 7, 0.3) 100%);
    color: #FFD700;
    border: 1px solid rgba(255, 215, 0, 0.6);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.competition-classification-badge.a {
    background: linear-gradient(135deg, rgba(156, 39, 176, 0.3) 0%, rgba(123, 31, 162, 0.3) 100%);
    color: #9C27B0;
    border: 1px solid rgba(156, 39, 176, 0.6);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.competition-classification-badge.b {
    background: linear-gradient(135deg, rgba(33, 150, 243, 0.3) 0%, rgba(25, 118, 210, 0.3) 100%);
    color: #2196F3;
    border: 1px solid rgba(33, 150, 243, 0.6);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.competition-classification-badge.c {
    background: linear-gradient(135deg, rgba(76, 175, 80, 0.3) 0%, rgba(56, 142, 60, 0.3) 100%);
    color: #4CAF50;
    border: 1px solid rgba(76, 175, 80, 0.6);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.stat-number {
    font-weight: 600;
    color: var(--primary-color);
}

.engagement-rate {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    padding: 4px 10px;
    border-radius: 12px;
    font-weight: 600;
}

.engagement-rate.high {
    background-color: rgba(76, 175, 80, 0.2);
    color: #4CAF50;
}

.engagement-rate.medium {
    background-color: rgba(255, 193, 7, 0.2);
    color: #FFC107;
}

.engagement-rate.low {
    background-color: rgba(244, 67, 54, 0.2);
    color: #F44336;
}

.competition-date {
    color: var(--text-secondary-color);
    font-size: 0.9em;
}

.table-pagination {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 0;
    margin-top: 20px;
    border-top: 1px solid var(--border-color);
}

.pagination-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    background-color: var(--primary-color);
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
}

.pagination-btn:hover:not(:disabled) {
    background-color: var(--primary-hover-color);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.pagination-btn:disabled {
    background-color: var(--border-color);
    cursor: not-allowed;
    opacity: 0.5;
}

.pagination-info {
    color: var(--text-secondary-color);
    font-size: 0.9em;
}

.pagination-info span {
    color: var(--primary-color);
    font-weight: 600;
}

.loading-row td {
    text-align: center;
    padding: 40px;
    color: var(--text-secondary-color);
}

.loading-row .loading-spinner {
    margin: 0 auto 15px;
}

.chart-container {
    position: relative;
    flex-grow: 1;
    min-height: 300px; /* minimum height for charts */
}

/* Responsive Design */
@media (max-width: 768px) {
    .analytics-filters {
        flex-direction: column;
        align-items: stretch;
    }
    
    .filter-buttons {
        justify-content: center;
    }
    
    .date-range-filter {
        flex-direction: column;
        align-items: stretch;
        gap: 10px;
    }
    
    .date-input-group {
        width: 100%;
    }
    
    .date-range-filter input[type="date"] {
        width: 100%;
        min-width: auto;
    }
    
    .date-range-filter .btn {
        width: 100%;
    }
    
    .dashboard-grid {
        grid-template-columns: 1fr;
    }
    
    /* Comparison Mode Responsive */
    .comparison-mode-toggle {
        width: 100%;
        justify-content: center;
    }
    
    .comparison-periods {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    .comparison-vs {
        transform: rotate(90deg);
        font-size: 1.5em;
        margin: 10px 0;
    }
    
    .quick-comparison-buttons {
        grid-template-columns: 1fr;
    }
    
    .comparison-actions {
        flex-direction: column;
    }
    
    .comparison-actions .btn {
        width: 100%;
    }
    
    /* Table Responsive */
    .card-header-with-filter {
        flex-direction: column;
        align-items: stretch;
    }
    
    .competition-filter-buttons {
        justify-content: center;
    }
    
    .competitions-stats-summary {
        grid-template-columns: 1fr;
    }
    
    .competitions-table {
        font-size: 0.85em;
    }
    
    .competitions-table thead th,
    .competitions-table tbody td {
        padding: 10px 8px;
    }
    
    .competition-question {
        max-width: 220px;
    -webkit-line-clamp: 3; /* allow 3 lines on small screens */
    line-clamp: 3;
    }
    
    .table-pagination {
        flex-direction: column;
        gap: 15px;
    }
}

@media (max-width: 480px) {
    .filter-buttons {
        flex-direction: column;
    }
    
    .filter-btn {
        width: 100%;
        text-align: center;
    }
    
    .dashboard-header .header-top {
        flex-direction: column;
        align-items: stretch;
    }
    
    .comparison-btn span {
        font-size: 0.9em;
    }
    
    /* Mobile Table Styles */
    .competitions-table thead {
        display: none;
    }
    
    .competitions-table tbody tr {
        display: block;
        margin-bottom: 15px;
        border: 1px solid var(--border-color);
        border-radius: 8px;
        padding: 15px;
        background-color: rgba(255, 255, 255, 0.05);
    }
    
    .competitions-table tbody td {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
        border-bottom: 1px solid var(--border-color);
    }
    
    .competitions-table tbody td:last-child {
        border-bottom: none;
    }
    
    .competitions-table tbody td:before {
        content: attr(data-label);
        font-weight: 600;
        color: var(--text-secondary-color);
        margin-left: 10px;
    }
    
    .competition-question {
        max-width: none;
        white-space: normal;
    -webkit-line-clamp: initial;
    line-clamp: initial;
        display: block;
    }
}

/* Re-using skeleton loader from home.css */

/* Granted Balances Section Styles */
#grantedBalancesCard {
    background-color: var(--card-bg-color);
    padding: 20px;
    border-radius: 12px;
    border: 1px solid var(--border-color);
}

#grantedBalancesCard h2 {
    margin: 0 0 20px 0;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--border-color);
    font-size: 1.2em;
    color: var(--text-color);
}

.granted-balance-section {
    margin-bottom: 25px;
    padding: 15px;
    background-color: rgba(255, 255, 255, 0.03);
    border-radius: 8px;
    border: 1px solid var(--border-color);
}

.granted-balance-section:last-of-type {
    margin-bottom: 0;
}

.granted-balance-section h3 {
    margin: 0 0 15px 0;
    font-size: 1.1em;
    color: var(--accent-color);
    display: flex;
    align-items: center;
    gap: 8px;
}

.granted-balance-section h3:before {
    content: '';
    font-size: 1.2em;
}

.balance-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}

.balance-item {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 15px;
    background-color: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    border: 1px solid var(--border-color);
    text-align: center;
}

.balance-label {
    font-size: 0.9em;
    color: var(--text-secondary-color);
    font-weight: 500;
}

.balance-value {
    font-size: 1.8em;
    font-weight: 700;
    color: var(--accent-color);
}

.deposit-bonus-table {
    overflow-x: auto;
}

.deposit-bonus-table table {
    width: 100%;
    border-collapse: collapse;
    background-color: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
    overflow: hidden;
}

.deposit-bonus-table thead {
    background-color: var(--accent-color);
}

.deposit-bonus-table thead th {
    padding: 12px 15px;
    text-align: center;
    color: #fff;
    font-weight: 600;
    font-size: 0.95em;
}

.deposit-bonus-table tbody tr {
    border-bottom: 1px solid var(--border-color);
    transition: background-color 0.2s ease;
}

.deposit-bonus-table tbody tr:hover {
    background-color: rgba(255, 255, 255, 0.05);
}

.deposit-bonus-table tbody tr:last-child {
    border-bottom: none;
}

.deposit-bonus-table tbody td {
    padding: 12px 15px;
    text-align: center;
    color: var(--text-color);
}

.deposit-bonus-table tbody td:first-child {
    font-weight: 600;
    color: var(--accent-color);
}

@media (max-width: 768px) {
    .balance-stats {
        grid-template-columns: 1fr;
    }
    
    .deposit-bonus-table {
        font-size: 0.9em;
    }
}

/* Weekly Excellence Table Styles */
.weekly-excellence-table {
    margin-top: 20px;
}

.weekly-excellence-table table {
    width: 100%;
    border-collapse: collapse;
    background-color: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
    overflow: hidden;
}

.weekly-excellence-table thead {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.weekly-excellence-table thead th {
    padding: 14px 15px;
    text-align: center;
    color: #fff;
    font-weight: 600;
    font-size: 0.95em;
}

.weekly-excellence-table tbody tr {
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    transition: background-color 0.2s ease;
}

.weekly-excellence-table tbody tr:hover {
    background-color: rgba(255, 255, 255, 0.03);
}

.weekly-excellence-table tbody tr:last-child {
    border-bottom: none;
}

.weekly-excellence-table tbody td {
    padding: 12px 15px;
    text-align: center;
    color: var(--text-color);
}

.weekly-excellence-table tbody td:first-child {
    font-weight: 600;
    text-align: right;
    padding-right: 20px;
}

.weekly-excellence-table .positive-change {
    color: #38ef7d;
    font-weight: 600;
}

.weekly-excellence-table .negative-change {
    color: #f5576c;
    font-weight: 600;
}

@media (max-width: 768px) {
    .weekly-excellence-table {
        font-size: 0.9em;
        overflow-x: auto;
    }
    
    .weekly-excellence-table table {
        min-width: 500px;
    }
}

/* Rank Changes Table Styles */
.rank-changes-table {
    width: 100%;
    border-collapse: collapse;
    background-color: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
    overflow: hidden;
}

.rank-changes-table thead {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.rank-changes-table thead th {
    padding: 14px 12px;
    text-align: center;
    color: #fff;
    font-weight: 600;
    font-size: 0.95em;
    white-space: nowrap;
}

.rank-changes-table thead th i {
    margin-left: 6px;
    opacity: 0.8;
}

.rank-changes-table tbody tr {
    border-bottom: 1px solid var(--border-color);
    transition: all 0.3s ease;
}

.rank-changes-table tbody tr:hover {
    background-color: rgba(255, 255, 255, 0.08);
    transform: scale(1.01);
}

.rank-changes-table tbody tr:last-child {
    border-bottom: none;
}

.rank-changes-table tbody td {
    padding: 14px 12px;
    text-align: center;
    color: var(--text-color);
    vertical-align: middle;
}

.rank-changes-table tbody td:first-child {
    font-weight: 700;
    color: var(--accent-color);
    font-size: 1.05em;
}

.rank-badge {
    display: inline-block;
    padding: 6px 14px;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.9em;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.rank-badge.rank-old {
    background-color: rgba(231, 76, 60, 0.2);
    color: #e74c3c;
    border: 1px solid #e74c3c;
}

.rank-badge.rank-new {
    background-color: rgba(46, 204, 113, 0.2);
    color: #2ecc71;
    border: 1px solid #2ecc71;
}

.reason-cell,
.action-cell {
    max-width: 200px;
    text-align: right;
    line-height: 1.5;
    color: var(--text-secondary-color);
    font-size: 0.95em;
}

.reason-cell {
    border-right: 3px solid #3498db;
    padding-right: 10px !important;
}

.action-cell {
    border-right: 3px solid #9b59b6;
    padding-right: 10px !important;
}

@media (max-width: 992px) {
    .rank-changes-table {
        display: block;
        overflow-x: auto;
        white-space: nowrap;
    }
    
    .rank-changes-table thead th,
    .rank-changes-table tbody td {
        font-size: 0.85em;
        padding: 10px 8px;
    }
    
    .reason-cell,
    .action-cell {
        max-width: 150px;
    }
}

@media (max-width: 768px) {
    .rank-changes-table thead {
        display: none;
    }
    
    .rank-changes-table tbody tr {
        display: block;
        margin-bottom: 20px;
        border: 1px solid var(--border-color);
        border-radius: 8px;
        padding: 15px;
    }
    
    .rank-changes-table tbody td {
        display: block;
        text-align: right;
        padding: 8px 0;
        border: none;
    }
    
    .rank-changes-table tbody td:before {
        content: attr(data-label);
        font-weight: bold;
        margin-left: 10px;
        color: var(--accent-color);
    }
    
    .reason-cell,
    .action-cell {
        max-width: 100%;
        white-space: normal;
    }
}

/* ============================================
   Agents Competitions Section Styles
   ============================================ */

/* Agents Competitions Stats Summary */
.agents-competitions-stats-summary {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 16px;
    margin-bottom: 24px;
    padding: 20px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    backdrop-filter: blur(10px);
}

body.dark-mode .agents-competitions-stats-summary {
    background: rgba(0, 0, 0, 0.2);
}

.agents-competitions-stats-summary .stat-summary-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 16px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

body.dark-mode .agents-competitions-stats-summary .stat-summary-item {
    background: rgba(27, 38, 59, 0.9);
}

.agents-competitions-stats-summary .stat-summary-item:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);
}

.agents-competitions-stats-summary .stat-summary-item i {
    font-size: 2rem;
    margin-bottom: 8px;
    color: var(--primary-color);
}

.agents-competitions-stats-summary .stat-label {
    font-size: 0.85rem;
    color: var(--text-secondary-color);
    margin-bottom: 4px;
}

.agents-competitions-stats-summary .stat-value {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-primary-color);
}

/* Agents Competitions Table */
.agents-competitions-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
}

.agents-competitions-table thead {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

body.dark-mode .agents-competitions-table thead {
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
}

.agents-competitions-table thead th {
    padding: 16px;
    text-align: right;
    font-weight: 600;
    font-size: 0.95rem;
    border-bottom: 2px solid rgba(255, 255, 255, 0.2);
}

.agents-competitions-table tbody tr {
    background: rgba(255, 255, 255, 0.95);
    transition: all 0.3s ease;
}

body.dark-mode .agents-competitions-table tbody tr {
    background: rgba(27, 38, 59, 0.95);
}

.agents-competitions-table tbody tr:hover {
    background: rgba(102, 126, 234, 0.1);
    transform: translateX(-4px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

body.dark-mode .agents-competitions-table tbody tr:hover {
    background: rgba(102, 126, 234, 0.15);
}

.agents-competitions-table tbody td {
    padding: 16px;
    border-bottom: 1px solid var(--border-color);
    vertical-align: middle;
}

/* Agent Info Cell */
.agent-info {
    display: flex;
    align-items: center;
    gap: 10px;
}

.agent-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid var(--primary-color);
}

.agent-avatar-placeholder {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    font-size: 16px;
}

.agent-name-link {
    color: var(--primary-color);
    text-decoration: none;
    font-weight: 600;
    transition: color 0.3s ease;
}

.agent-name-link:hover {
    color: var(--accent-color);
    text-decoration: underline;
}

/* Agent ID Badge */
.agent-id-badge {
    display: inline-block;
    padding: 4px 12px;
    background: rgba(102, 126, 234, 0.1);
    color: var(--primary-color);
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
}

body.dark-mode .agent-id-badge {
    background: rgba(102, 126, 234, 0.2);
}

/* Question Cell */
.question-cell {
    max-width: 300px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    color: var(--text-primary-color);
}

/* Compliance Bar */
.compliance-bar {
    flex: 1;
    height: 10px;
    background: rgba(44, 62, 80, 0.3);
    border-radius: 5px;
    overflow: hidden;
}

body.dark-mode .compliance-bar {
    background: rgba(255, 255, 255, 0.1);
}

/* Classification Badge */
.classification-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    text-transform: uppercase;
}

.classification-badge.class-R {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
}

.classification-badge.class-A {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    color: white;
}

.classification-badge.class-B {
    background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
    color: white;
}

.classification-badge.class-C {
    background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
    color: white;
}

/* Classification badges for rank changes table - with distinct colors */
.classification-badge.classification-r {
    background: linear-gradient(135deg, #FF6B6B 0%, #EE5A6F 100%);
    color: white;
    box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
}

.classification-badge.classification-a {
    background: linear-gradient(135deg, #4ECDC4 0%, #44A08D 100%);
    color: white;
    box-shadow: 0 4px 15px rgba(78, 205, 196, 0.3);
}

.classification-badge.classification-b {
    background: linear-gradient(135deg, #FFA500 0%, #FF8C00 100%);
    color: white;
    box-shadow: 0 4px 15px rgba(255, 165, 0, 0.3);
}

.classification-badge.classification-c {
    background: linear-gradient(135deg, #9B59B6 0%, #8E44AD 100%);
    color: white;
    box-shadow: 0 4px 15px rgba(155, 89, 182, 0.3);
}

.classification-badge.classification-unknown {
    background: linear-gradient(135deg, #95A5A6 0%, #7F8C8D 100%);
    color: white;
    box-shadow: 0 4px 15px rgba(149, 165, 166, 0.3);
}

/* Dark mode - specific classification badge colors */
body.dark-mode .classification-badge.classification-r {
    background: linear-gradient(135deg, #E74C3C 0%, #C0392B 100%);
    color: white;
    box-shadow: 0 4px 15px rgba(231, 76, 60, 0.5);
}

body.dark-mode .classification-badge.classification-a {
    background: linear-gradient(135deg, #1ABC9C 0%, #16A085 100%);
    color: white;
    box-shadow: 0 4px 15px rgba(26, 188, 156, 0.5);
}

body.dark-mode .classification-badge.classification-b {
    background: linear-gradient(135deg, #F39C12 0%, #E67E22 100%);
    color: white;
    box-shadow: 0 4px 15px rgba(243, 156, 18, 0.5);
}

body.dark-mode .classification-badge.classification-c {
    background: linear-gradient(135deg, #8E44AD 0%, #6C3483 100%);
    color: white;
    box-shadow: 0 4px 15px rgba(142, 68, 173, 0.5);
}

body.dark-mode .classification-badge.classification-unknown {
    background: linear-gradient(135deg, #7F8C8D 0%, #5D6D7E 100%);
    color: white;
    box-shadow: 0 4px 15px rgba(127, 140, 141, 0.5);
}

body.dark-mode .classification-badge.class-R {
    background: linear-gradient(135deg, #E74C3C 0%, #C0392B 100%);
    box-shadow: 0 4px 15px rgba(231, 76, 60, 0.5);
}

body.dark-mode .classification-badge.class-A {
    background: linear-gradient(135deg, #1ABC9C 0%, #16A085 100%);
    box-shadow: 0 4px 15px rgba(26, 188, 156, 0.5);
}

body.dark-mode .classification-badge.class-B {
    background: linear-gradient(135deg, #F39C12 0%, #E67E22 100%);
    box-shadow: 0 4px 15px rgba(243, 156, 18, 0.5);
}

body.dark-mode .classification-badge.class-C {
    background: linear-gradient(135deg, #8E44AD 0%, #6C3483 100%);
    box-shadow: 0 4px 15px rgba(142, 68, 173, 0.5);
}

/* Stat Number */
.stat-number {
    font-weight: 600;
    color: var(--text-primary-color);
}

/* ============================================
   Agent Competitions Page Styles
   ============================================ */

.agent-competitions-page {
    min-height: 100vh;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    background-attachment: fixed;
    padding: 20px;
}

body.dark-mode .agent-competitions-page {
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
    color: #e0e0e0;
    min-height: 100vh;
}

/* Page Header */
.page-header {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: 24px;
    margin-bottom: 24px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

body.dark-mode .page-header {
    background: rgba(27, 38, 59, 0.95);
}

.header-content {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.btn-back {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 20px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 0.95rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    align-self: flex-start;
}

.btn-back:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
}

/* Agent Profile */
.agent-profile {
    display: flex;
    align-items: center;
    gap: 20px;
}

.agent-avatar-large {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid var(--primary-color);
}

.agent-avatar-placeholder-large {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    font-size: 32px;
    border: 4px solid var(--primary-color);
}

.agent-details {
    flex: 1;
}

.agent-name {
    font-size: 2rem;
    font-weight: 700;
    color: var(--text-primary-color);
    margin-bottom: 8px;
}

.agent-meta {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
}

/* Statistics Grid */
.statistics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 24px;
}

/* Card Header */
.card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 16px;
    border-bottom: 2px solid var(--border-color);
}

.card-header h2 {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-primary-color);
    display: flex;
    align-items: center;
    gap: 10px;
}

.header-actions {
    display: flex;
    gap: 12px;
    align-items: center;
}

/* Search Box */
.search-box {
    position: relative;
    display: flex;
    align-items: center;
}

.search-box i {
    position: absolute;
    right: 12px;
    color: var(--text-secondary-color);
}

.search-box input {
    padding: 10px 40px 10px 12px;
    border: 1px solid var(--border-color);
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.9);
    color: var(--text-primary-color);
    font-size: 0.95rem;
    min-width: 250px;
    transition: all 0.3s ease;
}

body.dark-mode .search-box input {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #e0e0e0;
}

body.dark-mode .search-box input::placeholder {
    color: #a0a0a0;
}

/* Compliance Badge */
.compliance-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-weight: 600;
    font-size: 0.9rem;
}

/* Status Badge */
.status-badge {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
}

.status-badge.status-sent {
    background: rgba(52, 152, 219, 0.2);
    color: #3498db;
}

.status-badge.status-active {
    background: rgba(46, 204, 113, 0.2);
    color: #2ecc71;
}

.status-badge.status-awaiting_winners {
    background: rgba(241, 196, 15, 0.2);
    color: #f1c40f;
}

.status-badge.status-completed {
    background: rgba(39, 174, 96, 0.2);
    color: #27ae60;
}

.status-badge.status-archived {
    background: rgba(149, 165, 166, 0.2);
    color: #95a5a6;
}

/* Responsive Design for Agents Competitions */
@media (max-width: 1024px) {
    .agents-competitions-stats-summary {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    }
    
    .statistics-grid {
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    }
}

@media (max-width: 768px) {
    .agent-profile {
        flex-direction: column;
        text-align: center;
    }
    
    .agent-name {
        font-size: 1.5rem;
    }
    
    .agent-meta {
        justify-content: center;
    }
    
    .statistics-grid {
        grid-template-columns: 1fr;
    }
    
    .agents-competitions-stats-summary {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .search-box input {
        min-width: 100%;
    }
    
    .agents-competitions-table {
        font-size: 0.85rem;
    }
    
    .question-cell {
        max-width: 150px;
    }
}

/* ============================================
   Question Modal Styles
   ============================================ */

.question-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 9999;
    justify-content: center;
    align-items: center;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.question-modal.show {
    opacity: 1;
}

.question-modal .modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(5px);
}

.question-modal .modal-content {
    position: relative;
    background: white;
    border-radius: 20px;
    max-width: 600px;
    width: 90%;
    max-height: 80vh;
    overflow: hidden;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    transform: scale(0.9);
    transition: transform 0.3s ease;
    z-index: 10000;
}

body.dark-mode .question-modal .modal-content {
    background: #1b263b;
}

.question-modal.show .modal-content {
    transform: scale(1);
}

.question-modal .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 24px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.question-modal .modal-header h3 {
    margin: 0;
    font-size: 1.3rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 10px;
}

.question-modal .modal-close-btn {
    background: rgba(255, 255, 255, 0.2);
    border: none;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    color: white;
    font-size: 1.2rem;
}

.question-modal .modal-close-btn:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: rotate(90deg);
}

.question-modal .modal-body {
    padding: 32px 24px;
    max-height: 60vh;
    overflow-y: auto;
}

.question-modal .modal-body p {
    margin: 0;
    font-size: 1.1rem;
    line-height: 1.8;
    color: var(--text-primary-color);
    white-space: pre-wrap;
    word-wrap: break-word;
}

.question-modal .modal-footer {
    padding: 20px 24px;
    border-top: 1px solid var(--border-color);
    display: flex;
    justify-content: center;
}

.question-modal .modal-footer .btn {
    padding: 12px 32px;
    font-size: 1rem;
    border-radius: 10px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.question-modal .modal-footer .btn-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

.question-modal .modal-footer .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
}

/* Question Cell Cursor */
.question-clickable {
    transition: all 0.3s ease;
}

.question-clickable:hover {
    color: var(--accent-color) !important;
    text-decoration: underline;
}

/* ========================================
   AGENT COMPETITIONS PAGE DARK MODE STYLES
   ======================================== */

body.dark-mode .agent-competitions-page {
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
    color: #e0e0e0;
    min-height: 100vh;
}

body.dark-mode .page-header {
    background: rgba(27, 38, 59, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

body.dark-mode .btn-back {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    transition: all 0.3s ease;
}

body.dark-mode .btn-back:hover {
    background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);
    transform: translateY(-2px);
    box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
}

body.dark-mode .agent-header-info .agent-profile {
    background: rgba(27, 38, 59, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 20px;
}

body.dark-mode .agent-name {
    color: #ffffff;
}

body.dark-mode .agent-meta {
    color: #b0b0b0;
}

body.dark-mode .classification-badge {
    background: rgba(255, 255, 255, 0.1);
    color: #ffffff;
}

/* Compliance chip */
.compliance-chip {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 4px 10px;
    border-radius: 999px;
    background: rgba(255,255,255,0.08);
    color: #e0e0e0;
    border: 1px solid rgba(255,255,255,0.15);
    margin-right: 8px;
}

/* Enhanced Statistics Cards */
.stat-card-enhanced {
    background: rgba(27, 38, 59, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    padding: 24px;
    display: flex;
    align-items: center;
    gap: 20px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.stat-card-enhanced:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
    border-color: rgba(255, 255, 255, 0.2);
}

.stat-icon-wrapper {
    width: 60px;
    height: 60px;
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    color: white;
    flex-shrink: 0;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.gradient-purple {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.gradient-blue {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

.gradient-pink {
    background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
}

.gradient-teal {
    background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);
}

.gradient-mint {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
}

.stat-details {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.stat-card-enhanced .stat-label {
    font-size: 0.9rem;
    color: #b0b0b0;
    font-weight: 500;
    margin-bottom: 4px;
}

.stat-value-large {
    font-size: 2rem;
    font-weight: 800;
    color: #ffffff;
    line-height: 1;
    letter-spacing: -0.5px;
}

.stat-meta {
    font-size: 0.85rem;
    color: #a0a0a0;
    margin-top: 4px;
}

/* Compliance card special styling */
.compliance-card .stat-value-large {
    font-size: 2.2rem;
}

/* Statistics Grid Layout */
.statistics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    margin: 24px 0;
}

@media (max-width: 768px) {
    .statistics-grid {
        grid-template-columns: 1fr;
    }
    
    .stat-card-enhanced {
        padding: 20px;
    }
    
    .stat-icon-wrapper {
        width: 50px;
        height: 50px;
        font-size: 20px;
    }
    
    .stat-value-large {
        font-size: 1.6rem;
    }
}

body.dark-mode .statistics-grid .stat-card-v2 {
    background: rgba(27, 38, 59, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: #e0e0e0;
}

body.dark-mode .stat-icon {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

body.dark-mode .stat-label {
    color: #b0b0b0;
}

body.dark-mode .stat-value {
    color: #ffffff;
}

body.dark-mode .stat-subtitle {
    color: #a0a0a0;
}

body.dark-mode .card.chart-card.full-width {
    background: rgba(27, 38, 59, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: #e0e0e0;
}

body.dark-mode .card-header h2 {
    color: #ffffff;
}

body.dark-mode .search-box input {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #e0e0e0;
}

body.dark-mode .search-box input::placeholder {
    color: #a0a0a0;
}

body.dark-mode .competitions-table {
    background: rgba(27, 38, 59, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark-mode .competitions-table thead th {
    background: rgba(27, 38, 59, 0.95);
    color: #ffffff;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

body.dark-mode .competitions-table tbody tr {
    background: rgba(27, 38, 59, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark-mode .competitions-table tbody tr:hover {
    background: rgba(27, 38, 59, 0.9);
}

body.dark-mode .competitions-table tbody td {
    color: #e0e0e0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark-mode .compliance-badge {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

body.dark-mode .status-badge {
    background: rgba(255, 255, 255, 0.1);
    color: #e0e0e0;
}

body.dark-mode .loading-spinner {
    border-top-color: #667eea;
}

body.dark-mode .error-state {
    color: #ff6b6b;
}

body.dark-mode .question-cell {
    color: #e0e0e0;
}

body.dark-mode .stat-number {
    color: #ffffff;
}

/* ========================================
   AGENT COMPETITIONS PAGE DARK MODE STYLES
   ======================================== */

body.dark-mode .agent-competitions-page {
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
    color: #e0e0e0;
    min-height: 100vh;
}

body.dark-mode .page-header {
    background: rgba(27, 38, 59, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

body.dark-mode .btn-back {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    transition: all 0.3s ease;
}

body.dark-mode .btn-back:hover {
    background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);
    transform: translateY(-2px);
    box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
}

body.dark-mode .agent-header-info .agent-profile {
    background: rgba(27, 38, 59, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 20px;
}

body.dark-mode .agent-name {
    color: #ffffff;
}

body.dark-mode .agent-meta {
    color: #b0b0b0;
}

body.dark-mode .classification-badge {
    background: rgba(255, 255, 255, 0.1);
    color: #ffffff;
}

body.dark-mode .statistics-grid .stat-card-v2 {
    background: rgba(27, 38, 59, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: #e0e0e0;
}

body.dark-mode .stat-icon {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

body.dark-mode .stat-label {
    color: #b0b0b0;
}

body.dark-mode .stat-value {
    color: #ffffff;
}

body.dark-mode .stat-subtitle {
    color: #a0a0a0;
}

body.dark-mode .card.chart-card.full-width {
    background: rgba(27, 38, 59, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: #e0e0e0;
}

body.dark-mode .card-header h2 {
    color: #ffffff;
}

body.dark-mode .search-box input {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #e0e0e0;
}

body.dark-mode .search-box input::placeholder {
    color: #a0a0a0;
}

body.dark-mode .competitions-table {
    background: rgba(27, 38, 59, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark-mode .competitions-table thead th {
    background: rgba(27, 38, 59, 0.95);
    color: #ffffff;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

body.dark-mode .competitions-table tbody tr {
    background: rgba(27, 38, 59, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark-mode .competitions-table tbody tr:hover {
    background: rgba(27, 38, 59, 0.9);
}

body.dark-mode .competitions-table tbody td {
    color: #e0e0e0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark-mode .compliance-badge {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

body.dark-mode .status-badge {
    background: rgba(255, 255, 255, 0.1);
    color: #e0e0e0;
}

body.dark-mode .loading-spinner {
    border-top-color: #667eea;
}

body.dark-mode .error-state {
    color: #ff6b6b;
}

body.dark-mode .question-cell {
    color: #e0e0e0;
}

body.dark-mode .stat-number {
    color: #ffffff;
}

